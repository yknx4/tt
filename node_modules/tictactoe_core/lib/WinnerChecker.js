'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _Base2 = require('./Base');

var _Base3 = _interopRequireDefault(_Base2);

var _Board = require('./Board');

var _Board2 = _interopRequireDefault(_Board);

var _ParameterValidation = require('./validation/ParameterValidation.js');

var _ParameterValidation2 = _interopRequireDefault(_ParameterValidation);

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var WinnerChecker = function (_Base) {
  _inherits(WinnerChecker, _Base);

  function WinnerChecker(board, id, numberToWin) {
    _classCallCheck(this, WinnerChecker);

    var _this = _possibleConstructorReturn(this, (WinnerChecker.__proto__ || Object.getPrototypeOf(WinnerChecker)).call(this));

    _this._id = id;
    _this._board = board;
    _this._numberToWin = numberToWin;
    _ParameterValidation2.default.validateType(board, _Board2.default, 'board');
    return _this;
  }

  _createClass(WinnerChecker, [{
    key: 'checkWinner',
    value: function checkWinner(x, y) {
      var _this2 = this;

      this._x = x;
      this._y = y;
      var counts = [this._checkUpDown(), this._checkLeftRight(), this._checkSlash(), this._checkBackSlash()];
      var winner = _underscore2.default.find(counts, function (num) {
        return num >= _this2._numberToWin;
      });
      return typeof winner !== 'undefined';
    }
  }, {
    key: '_checkUpDown',
    value: function _checkUpDown() {
      var x = this._x;
      var y = this._y;

      var upDownX = x;
      var upDownY = y;
      var upDownCount = 1;

      while (this._checkUp(upDownX, upDownY)) {
        upDownCount++;
        upDownY++;
      }

      upDownX = x;
      upDownY = y;

      while (this._checkDown(upDownX, upDownY)) {
        upDownCount++;
        upDownY--;
      }
      return upDownCount;
    }
  }, {
    key: '_checkUp',
    value: function _checkUp(x, y) {
      return this._check(x, y, 0, 1);
    }
  }, {
    key: '_checkDown',
    value: function _checkDown(x, y) {
      return this._check(x, y, 0, -1);
    }
  }, {
    key: '_checkLeftRight',
    value: function _checkLeftRight() {
      var x = this._x;
      var y = this._y;

      var leftRightX = x;
      var leftRightY = y;
      var leftRightCount = 1;

      while (this._checkRigth(leftRightX, leftRightY)) {
        leftRightCount++;
        leftRightX++;
      }

      leftRightX = x;
      leftRightY = y;

      while (this._checkLeft(leftRightX, leftRightY)) {
        leftRightCount++;
        leftRightX--;
      }
      return leftRightCount;
    }
  }, {
    key: '_checkLeft',
    value: function _checkLeft(x, y) {
      return this._check(x, y, -1, 0);
    }
  }, {
    key: '_checkRigth',
    value: function _checkRigth(x, y) {
      return this._check(x, y, 1, 0);
    }
  }, {
    key: '_checkSlash',
    value: function _checkSlash() {
      var x = this._x;
      var y = this._y;

      var slashX = x;
      var slashY = y;
      var slashCount = 1;

      while (this._checkSlashUp(slashX, slashY)) {
        slashCount++;
        slashY++;
        slashX++;
      }

      slashX = x;
      slashY = y;

      while (this._checkSlashDown(slashX, slashY)) {
        slashCount++;
        slashY--;
        slashX--;
      }
      return slashCount;
    }
  }, {
    key: '_checkSlashUp',
    value: function _checkSlashUp(x, y) {
      return this._check(x, y, 1, 1);
    }
  }, {
    key: '_checkSlashDown',
    value: function _checkSlashDown(x, y) {
      return this._check(x, y, -1, -1);
    }
  }, {
    key: '_checkBackSlash',
    value: function _checkBackSlash() {
      var x = this._x;
      var y = this._y;

      var backSlashX = x;
      var backSlashY = y;
      var backSlashCount = 1;

      while (this._checkBackSlashUp(backSlashX, backSlashY)) {
        backSlashCount++;
        backSlashY++;
        backSlashX--;
      }

      backSlashX = x;
      backSlashY = y;

      while (this._checkBackSlashDown(backSlashX, backSlashY)) {
        backSlashCount++;
        backSlashY--;
        backSlashX++;
      }
      return backSlashCount;
    }
  }, {
    key: '_checkBackSlashUp',
    value: function _checkBackSlashUp(x, y) {
      return this._check(x, y, -1, 1);
    }
  }, {
    key: '_checkBackSlashDown',
    value: function _checkBackSlashDown(x, y) {
      return this._check(x, y, 1, -1);
    }
  }, {
    key: '_check',
    value: function _check(x, y, directionX, directionY) {
      x += directionX;
      y += directionY;
      return this._board.getCell(x, y) === this._id;
    }
  }]);

  return WinnerChecker;
}(_Base3.default);

exports.default = WinnerChecker;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9XaW5uZXJDaGVja2VyLmpzIl0sIm5hbWVzIjpbIldpbm5lckNoZWNrZXIiLCJib2FyZCIsImlkIiwibnVtYmVyVG9XaW4iLCJfaWQiLCJfYm9hcmQiLCJfbnVtYmVyVG9XaW4iLCJ2YWxpZGF0ZVR5cGUiLCJ4IiwieSIsIl94IiwiX3kiLCJjb3VudHMiLCJfY2hlY2tVcERvd24iLCJfY2hlY2tMZWZ0UmlnaHQiLCJfY2hlY2tTbGFzaCIsIl9jaGVja0JhY2tTbGFzaCIsIndpbm5lciIsImZpbmQiLCJudW0iLCJ1cERvd25YIiwidXBEb3duWSIsInVwRG93bkNvdW50IiwiX2NoZWNrVXAiLCJfY2hlY2tEb3duIiwiX2NoZWNrIiwibGVmdFJpZ2h0WCIsImxlZnRSaWdodFkiLCJsZWZ0UmlnaHRDb3VudCIsIl9jaGVja1JpZ3RoIiwiX2NoZWNrTGVmdCIsInNsYXNoWCIsInNsYXNoWSIsInNsYXNoQ291bnQiLCJfY2hlY2tTbGFzaFVwIiwiX2NoZWNrU2xhc2hEb3duIiwiYmFja1NsYXNoWCIsImJhY2tTbGFzaFkiLCJiYWNrU2xhc2hDb3VudCIsIl9jaGVja0JhY2tTbGFzaFVwIiwiX2NoZWNrQmFja1NsYXNoRG93biIsImRpcmVjdGlvblgiLCJkaXJlY3Rpb25ZIiwiZ2V0Q2VsbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0lBRXFCQSxhOzs7QUFDbkIseUJBQVlDLEtBQVosRUFBbUJDLEVBQW5CLEVBQXVCQyxXQUF2QixFQUFvQztBQUFBOztBQUFBOztBQUVsQyxVQUFLQyxHQUFMLEdBQVdGLEVBQVg7QUFDQSxVQUFLRyxNQUFMLEdBQWNKLEtBQWQ7QUFDQSxVQUFLSyxZQUFMLEdBQW9CSCxXQUFwQjtBQUNBLGtDQUFvQkksWUFBcEIsQ0FBaUNOLEtBQWpDLG1CQUErQyxPQUEvQztBQUxrQztBQU1uQzs7OztnQ0FFV08sQyxFQUFHQyxDLEVBQUc7QUFBQTs7QUFDaEIsV0FB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QXBCLEVBQXVCQyxDQUF2QixNQUE4QixLQUFLTCxHQUExQztBQUNEOzs7Ozs7a0JBdkprQkosYSIsImZpbGUiOiJXaW5uZXJDaGVja2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2UgZnJvbSAnLi9CYXNlJ1xuaW1wb3J0IEJvYXJkIGZyb20gJy4vQm9hcmQnXG5pbXBvcnQgUGFyYW1ldGVyVmFsaWRhdGlvbiBmcm9tICcuL3ZhbGlkYXRpb24vUGFyYW1ldGVyVmFsaWRhdGlvbi5qcydcbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpbm5lckNoZWNrZXIgZXh0ZW5kcyBCYXNlIHtcbiAgY29uc3RydWN0b3IoYm9hcmQsIGlkLCBudW1iZXJUb1dpbikge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLl9pZCA9IGlkXG4gICAgdGhpcy5fYm9hcmQgPSBib2FyZFxuICAgIHRoaXMuX251bWJlclRvV2luID0gbnVtYmVyVG9XaW5cbiAgICBQYXJhbWV0ZXJWYWxpZGF0aW9uLnZhbGlkYXRlVHlwZShib2FyZCwgQm9hcmQsICdib2FyZCcpXG4gIH1cblxuICBjaGVja1dpbm5lcih4LCB5KSB7XG4gICAgdGhpcy5feCA9IHhcbiAgICB0aGlzLl95ID0geVxuICAgIGxldCBjb3VudHMgPSBbdGhpcy5fY2hlY2tVcERvd24oKSwgdGhpcy5fY2hlY2tMZWZ0UmlnaHQoKSwgdGhpcy5fY2hlY2tTbGFzaCgpLCB0aGlzLl9jaGVja0JhY2tTbGFzaCgpXVxuICAgIGxldCB3aW5uZXIgPSBfLmZpbmQoY291bnRzLCBudW0gPT4ge1xuICAgICAgcmV0dXJuIG51bSA+PSB0aGlzLl9udW1iZXJUb1dpblxuICAgIH0pXG4gICAgcmV0dXJuIHR5cGVvZiB3aW5uZXIgIT09ICd1bmRlZmluZWQnXG4gIH1cblxuICBfY2hlY2tVcERvd24oKSB7XG4gICAgbGV0IHggPSB0aGlzLl94XG4gICAgbGV0IHkgPSB0aGlzLl95XG5cbiAgICBsZXQgdXBEb3duWCA9IHhcbiAgICBsZXQgdXBEb3duWSA9IHlcbiAgICBsZXQgdXBEb3duQ291bnQgPSAxXG5cbiAgICB3aGlsZSAodGhpcy5fY2hlY2tVcCh1cERvd25YLCB1cERvd25ZKSkge1xuICAgICAgdXBEb3duQ291bnQrK1xuICAgICAgdXBEb3duWSsrXG4gICAgfVxuXG4gICAgdXBEb3duWCA9IHhcbiAgICB1cERvd25ZID0geVxuXG4gICAgd2hpbGUgKHRoaXMuX2NoZWNrRG93bih1cERvd25YLCB1cERvd25ZKSkge1xuICAgICAgdXBEb3duQ291bnQrK1xuICAgICAgdXBEb3duWS0tXG4gICAgfVxuICAgIHJldHVybiB1cERvd25Db3VudFxuICB9XG5cbiAgX2NoZWNrVXAoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLl9jaGVjayh4LCB5LCAwLCAxKVxuICB9XG5cbiAgX2NoZWNrRG93bih4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrKHgsIHksIDAsIC0xKVxuICB9XG5cbiAgX2NoZWNrTGVmdFJpZ2h0KCkge1xuICAgIGxldCB4ID0gdGhpcy5feFxuICAgIGxldCB5ID0gdGhpcy5feVxuXG4gICAgbGV0IGxlZnRSaWdodFggPSB4XG4gICAgbGV0IGxlZnRSaWdodFkgPSB5XG4gICAgbGV0IGxlZnRSaWdodENvdW50ID0gMVxuXG4gICAgd2hpbGUgKHRoaXMuX2NoZWNrUmlndGgobGVmdFJpZ2h0WCwgbGVmdFJpZ2h0WSkpIHtcbiAgICAgIGxlZnRSaWdodENvdW50KytcbiAgICAgIGxlZnRSaWdodFgrK1xuICAgIH1cblxuICAgIGxlZnRSaWdodFggPSB4XG4gICAgbGVmdFJpZ2h0WSA9IHlcblxuICAgIHdoaWxlICh0aGlzLl9jaGVja0xlZnQobGVmdFJpZ2h0WCwgbGVmdFJpZ2h0WSkpIHtcbiAgICAgIGxlZnRSaWdodENvdW50KytcbiAgICAgIGxlZnRSaWdodFgtLVxuICAgIH1cbiAgICByZXR1cm4gbGVmdFJpZ2h0Q291bnRcbiAgfVxuXG4gIF9jaGVja0xlZnQoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLl9jaGVjayh4LCB5LCAtMSwgMClcbiAgfVxuXG4gIF9jaGVja1JpZ3RoKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2soeCwgeSwgMSwgMClcbiAgfVxuXG4gIF9jaGVja1NsYXNoKCkge1xuICAgIGxldCB4ID0gdGhpcy5feFxuICAgIGxldCB5ID0gdGhpcy5feVxuXG4gICAgbGV0IHNsYXNoWCA9IHhcbiAgICBsZXQgc2xhc2hZID0geVxuICAgIGxldCBzbGFzaENvdW50ID0gMVxuXG4gICAgd2hpbGUgKHRoaXMuX2NoZWNrU2xhc2hVcChzbGFzaFgsIHNsYXNoWSkpIHtcbiAgICAgIHNsYXNoQ291bnQrK1xuICAgICAgc2xhc2hZKytcbiAgICAgIHNsYXNoWCsrXG4gICAgfVxuXG4gICAgc2xhc2hYID0geFxuICAgIHNsYXNoWSA9IHlcblxuICAgIHdoaWxlICh0aGlzLl9jaGVja1NsYXNoRG93bihzbGFzaFgsIHNsYXNoWSkpIHtcbiAgICAgIHNsYXNoQ291bnQrK1xuICAgICAgc2xhc2hZLS1cbiAgICAgIHNsYXNoWC0tXG4gICAgfVxuICAgIHJldHVybiBzbGFzaENvdW50XG4gIH1cblxuICBfY2hlY2tTbGFzaFVwKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hlY2soeCwgeSwgMSwgMSlcbiAgfVxuXG4gIF9jaGVja1NsYXNoRG93bih4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoZWNrKHgsIHksIC0xLCAtMSlcbiAgfVxuXG4gIF9jaGVja0JhY2tTbGFzaCgpIHtcbiAgICBsZXQgeCA9IHRoaXMuX3hcbiAgICBsZXQgeSA9IHRoaXMuX3lcblxuICAgIGxldCBiYWNrU2xhc2hYID0geFxuICAgIGxldCBiYWNrU2xhc2hZID0geVxuICAgIGxldCBiYWNrU2xhc2hDb3VudCA9IDFcblxuICAgIHdoaWxlICh0aGlzLl9jaGVja0JhY2tTbGFzaFVwKGJhY2tTbGFzaFgsIGJhY2tTbGFzaFkpKSB7XG4gICAgICBiYWNrU2xhc2hDb3VudCsrXG4gICAgICBiYWNrU2xhc2hZKytcbiAgICAgIGJhY2tTbGFzaFgtLVxuICAgIH1cblxuICAgIGJhY2tTbGFzaFggPSB4XG4gICAgYmFja1NsYXNoWSA9IHlcblxuICAgIHdoaWxlICh0aGlzLl9jaGVja0JhY2tTbGFzaERvd24oYmFja1NsYXNoWCwgYmFja1NsYXNoWSkpIHtcbiAgICAgIGJhY2tTbGFzaENvdW50KytcbiAgICAgIGJhY2tTbGFzaFktLVxuICAgICAgYmFja1NsYXNoWCsrXG4gICAgfVxuICAgIHJldHVybiBiYWNrU2xhc2hDb3VudFxuICB9XG5cbiAgX2NoZWNrQmFja1NsYXNoVXAoeCwgeSkge1xuICAgIHJldHVybiB0aGlzLl9jaGVjayh4LCB5LCAtMSwgMSlcbiAgfVxuXG4gIF9jaGVja0JhY2tTbGFzaERvd24oeCwgeSkge1xuICAgIHJldHVybiB0aGlzLl9jaGVjayh4LCB5LCAxLCAtMSlcbiAgfVxuXG4gIF9jaGVjayh4LCB5LCBkaXJlY3Rpb25YLCBkaXJlY3Rpb25ZKSB7XG4gICAgeCArPSBkaXJlY3Rpb25YXG4gICAgeSArPSBkaXJlY3Rpb25ZXG4gICAgcmV0dXJuIHRoaXMuX2JvYXJkLmdldENlbGwoeCwgeSkgPT09IHRoaXMuX2lkXG4gIH1cbn1cbiJdfQ==
//# sourceMappingURL=WinnerChecker.js.map